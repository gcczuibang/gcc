<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<canvas id="canvas" width="600" height="500"></canvas>
<script>
    var canvas = document.getElementById("canvas");
    var ctx=canvas.getContext("2d");
    ctx.fillRect(0,0,canvas.width,canvas.height);
    function wz(e){
        var wx=e.clientX;
        var wy=e.clientY;
        var p=canvas.getBoundingClientRect();
        return{
            x:wx-p.left,
            y:wy-p.top
        }
    }
    canvas.onmousedown=function(e){
        canvas.onmousemove=function(e){
            ctx.fillStyle="red";
            ctx.save();
            ctx.beginPath();
            var loc=wz(e);
            ctx.arc(loc.x,loc.y,10,0,Math.PI*2,false);
            ctx.clip();
            ctx.fill();
            ctx.restore();

        }
    }
    canvas.onmouseup=function(){
        canvas.onmousemove=null;
    }

</script>
</body>
</html>